$hauteur: 20px;

%bordureDeroulement {
    content: "";
    height: $hauteur;
    width: 100%;
    display: block;
    background: inherit;
    position: absolute;
}

#deroulement {
    background: url("../src/img/background_deroulement.jpg") center fixed no-repeat;
    background-size: cover;

    &::before {
        @extend %bordureDeroulement;

        
        clip-path: polygon(0% 100%, 5% 0%, 10% 100%, 15% 0%, 20% 100%, 25% 0%, 30% 100%, 35% 0%, 40% 100%, 45% 0%, 50% 100%, 55% 0%, 60% 100%, 65% 0%, 70% 100%, 75% 0%, 80% 100%, 85% 0%, 90% 100%, 95% 0%, 100% 100%);
        top: -($hauteur - 1);

        box-shadow: inset 0px 20px 12px -12px rgba(#000, .25);
    }

    &::after {
        @extend %bordureDeroulement;

        clip-path: polygon(0% 0%, 5% 100%, 10% 0%, 15% 100%, 20% 0%, 25% 100%, 30% 0%, 35% 100%, 40% 0%, 45% 100%, 50% 0%, 55% 100%, 60% 0%, 65% 100%, 70% 0%, 75% 100%, 80% 0%, 85% 100%, 90% 0%, 95% 100%, 100% 0%);
        bottom: -($hauteur - 1);

        box-shadow: inset 0px -20px 12px -12px rgba(#000, .25);
    }

    h2 {
        @extend %titre;

        color: #000;
    }

    .etape {
        section {
            @media all and (min-width: 704px) {
                &:hover > p {
                    overflow-y: auto;
                    mask-image: linear-gradient(to bottom, transparent, 2%, black, 98%, transparent);
                }
        
                p {
                    max-height: 30vh;
                    overflow: hidden;
        
                    mask-image: linear-gradient(to bottom, black 50%, 98%, transparent);
                    mask-size: 100% 100%;
                    mask-repeat: no-repeat;
                }
            }

            h3 {
                @extend %titre;

                font-weight: lighter;
            }

            p {
                text-align: center;
                letter-spacing: .1pc;
            }
        }
    }
}